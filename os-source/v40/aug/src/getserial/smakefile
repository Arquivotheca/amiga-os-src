#
# General makefile...  SAS/C 6.0
#

all: GetSerial.ld

VERSION=37

MYLIBS= LIB:amiga.lib

LC = sc
ASM = casm

LFLAGS= BATCH SMALLCODE SMALLDATA

LCFLAGS = MEMORYSIZE=HUGE DATA=FARONLY PARAMETERS=REGISTER NOSTACKCHECK NOMULTIPLEINCLUDES STRINGMERGE STRUCTUREEQUIVALENCE MULTIPLECHARACTERCONSTANTS DEBUG=LINE NOVERSION OPTIMIZE OPTIMIZERINLINE OPTIMIZERINLOCAL

.c.ld:
	BumpRev $(VERSION) $*_rev
	$(LC) $(LCFLAGS) $*.c
	slink <with <
FROM $*.o
TO $*.ld
LIB $(MYLIBS)
$(LFLAGS)
<
	Protect $*.ld +p
	blink $*.ld to $* ND
	Protect $* +p

clean:
	Delete \#?.(o|ld)
