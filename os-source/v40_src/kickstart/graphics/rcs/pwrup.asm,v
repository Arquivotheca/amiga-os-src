head     39.2;
branch   ;
access   ;
symbols  rel39_24:39.2 rel39_18:39.2 rel39_97:39.1 rel39_90:39.1 rel39_89:39.1 rel39_82:39.1 rel39_76:39.1 rel39_71:39.1 rel39_65:39.1 rel39_64:39.1 rel39_61:39.1 rel39_60:39.1 rel39_55:39.1 rel39_52:39.1 rel39_47:39.1 rel39_39:39.1 rel39_38:39.1 rel39_37:39.1 rel39_35:39.1 rel39_34:39.1 V37_30:37.0 V37_29:37.0 V37_28:37.0 V37_27:37.0 V37_25:37.0 V37_24:37.0 V37_23:37.0 V37_22:37.0 V37_21:37.0 V37_20:37.0 V37_19:37.0 V37_18:37.0 V37_15:37.0 V37_14:37.0 V37_13:37.0 V37_12:37.0 V37_11:37.0 V37_10:37.0 V37_9:37.0 V37_8:37.0 V37_7:37.0 V37_6:37.0 V37_5:37.0 V37_4:37.0 V37_3:37.0 V37_2:37.0 V37_1:37.0 V36_209:33.29 V36_208:33.29 V36_207:33.29 V36_205:33.29 V36_203:33.29 V36_202:33.29 V36_201:33.29 V36_200:33.29 V36_199:33.29 V36_198:33.29 V36_196:33.29 V36_195:33.29 V36_194:33.29 V36_193:33.29 V36_192:33.29 V36_191:33.29 V36_190:33.29 V36_189:33.29 V36_188:33.29 V36_187:33.29 V36_186:33.29 V36_185:33.29 V36_184:33.29 V36_183:33.29 V36_182:33.29 V36_181:33.29 V36_180:33.29 V36_179:33.29 V36_161:33.28 V36_160:33.28 V36_158:33.28 V36_157:33.28 V36_153:33.28 V36_151:33.28 V36_147:33.28 V36_146:33.28 V36_144:33.28 V36_143:33.28 V36_142:33.28 V36_141:33.28 V36_139:33.28 V36_137:33.28 V36_136:33.28 V36_135:33.28 V36_133:33.28 V36_131:33.27 V36_130:33.27 V36_129:33.27 V36_128:33.27 V36_127:33.27 V36_126:33.27 V36_125:33.27 V36_123:33.27 V36_122:33.27 V36_121:33.27 V36_0:33.27 V36_118:33.27 V36_116:33.27 V36_115:33.27 V36_114:33.27 V36_112:33.27 V36_107:33.27 V36_106:33.27 V36_104:33.27 V36_103:33.27 V36_101:33.27 V36_100:33.27 V36_99:33.27 V36_95:33.27 V36_94:33.27 V36_92:33.27 V36_90:33.27 V36_89:33.27 V36_88:33.27 V36_83:33.26 V36_82:33.26 V36_79:33.26 V36_78:33.26 V36_77:33.26 V36_75:33.26 V36_74:33.26 V36_73:33.26 V36_72:33.26 V36_70:33.26 V36_69:33.26 V36_61:33.26 V36_60:33.26 V36_59:33.26 V36_57:33.26 V36_56:33.26 V36_55:33.26 V36_54:33.26 V36_52:33.26 V36_51:33.26 V36_50:33.26 V36_48:33.26 V36_47:33.26 V36_46:33.26 V36_45:33.26 V36_44:33.26 V36_43:33.26 V36_42:33.26 V36_41:33.26 V36_40:33.26 V36_37:33.26 V36_36:33.26 V36_35:33.26 V36_34:33.26 V36_33:33.26 V36_30:33.26 V36_29:33.26 V36_27:33.26 V36_25:33.26 V36_24:33.26 V36_18:33.24;
locks    ; strict;
comment  @*   @;


39.2
date     93.02.09.15.57.34;  author chrisg;  state Exp;
branches ;
next     39.1;

39.1
date     92.01.21.13.39.45;  author chrisg;  state Exp;
branches ;
next     39.0;

39.0
date     91.08.21.17.11.59;  author chrisg;  state Exp;
branches ;
next     33.23;

33.23
date     89.02.01.17.54.44;  author bart;  state Exp;
branches ;
next     33.22;

33.22
date     89.01.31.18.34.54;  author bart;  state Exp;
branches ;
next     33.21;

33.21
date     89.01.31.18.32.38;  author bart;  state Exp;
branches ;
next     33.20;

33.20
date     89.01.31.18.22.59;  author bart;  state Exp;
branches ;
next     33.19;

33.19
date     89.01.12.16.13.52;  author bart;  state Exp;
branches ;
next     33.18;

33.18
date     88.03.10.20.52.02;  author dale;  state Exp;
branches ;
next     33.17;

33.17
date     87.03.13.12.56.05;  author dale;  state Exp;
branches ;
next     33.16;

33.16
date     86.07.31.16.35.19;  author bart;  state Exp;
branches ;
next     33.15;

33.15
date     86.07.23.17.05.12;  author bart;  state Exp;
branches ;
next     33.14;

33.14
date     86.07.23.17.00.49;  author bart;  state Exp;
branches ;
next     33.13;

33.13
date     86.07.22.18.51.43;  author bart;  state Exp;
branches ;
next     33.12;

33.12
date     86.07.07.10.35.57;  author bart;  state Exp;
branches ;
next     33.11;

33.11
date     86.07.01.11.27.43;  author bart;  state Exp;
branches ;
next     33.10;

33.10
date     86.06.23.11.34.44;  author bart;  state Exp;
branches ;
next     33.9;

33.9
date     86.06.19.14.29.25;  author bart;  state Exp;
branches ;
next     33.8;

33.8
date     86.06.18.20.14.28;  author bart;  state Exp;
branches ;
next     33.7;

33.7
date     86.06.17.10.23.38;  author bart;  state Exp;
branches ;
next     33.6;

33.6
date     86.06.11.11.29.53;  author bart;  state Exp;
branches ;
next     33.5;

33.5
date     86.06.09.15.13.23;  author bart;  state Exp;
branches ;
next     33.4;

33.4
date     86.06.03.16.01.41;  author bart;  state Exp;
branches ;
next     33.3;

33.3
date     86.05.29.11.52.11;  author bart;  state Exp;
branches ;
next     33.2;

33.2
date     86.05.27.20.12.01;  author bart;  state Exp;
branches ;
next     33.1;

33.1
date     86.05.22.12.58.22;  author bart;  state Exp;
branches ;
next     33.0;

33.0
date     86.05.17.14.57.14;  author bart;  state Exp;
branches ;
next     ;


desc
@@


39.2
log
@no need to pass gfxbase on stack.
@
text
@*******************************************************************************
*
*	$Id: pwrup.asm,v 39.1 92/01/21 13:39:45 chrisg Exp Locker: chrisg $
*
*******************************************************************************

    include 'exec/types.i'
    include 'exec/nodes.i'
    include 'exec/lists.i'
    include 'exec/resident.i'
    include 'gfxbase.i'
    include 'graphics_rev.i'

IC_COLDRESET    equ 1

    section graphics

    xdef	_SysBaseOffset
_SysBaseOffset equ	gb_ExecBase

    xdef	_UtilityBaseOffset
_UtilityBaseOffset equ	gb_UtilBase

    xref	gfx_end

gfx_tag:
    dc.w    RTC_MATCHWORD
    dc.l    gfx_tag
    dc.l    gfx_end
    dc.b    RTW_COLDSTART
    dc.b    VERSION  * version number
    dc.b    NT_LIBRARY
    dc.b    65  * initialization priority
    dc.l    _gfx_lib_name    * node name
    dc.l    _rev_name
    dc.l    apwrup

	xdef	_gfx_lib_name
_gfx_lib_name    dc.b    'graphics.library',0

*	rev_name    dc.b    'graphics 33.99 July 23 1986',10,0
	xdef	_rev_name
_rev_name	VSTRING

	xdef	_VERSION
	xdef	_REVISION
_VERSION	EQU	VERSION
_REVISION	EQU	REVISION

    ds.w    0

	xref	_LVOMakeLibrary
	xref	_vectbl
	xref    _cpwrup

apwrup: movem.l a2,-(sp)
	moveq.l #0,d1
	move.l	#gb_SIZE,d0
	move.l  d1,a2
	move.l  d1,a1
	movea.l	#_vectbl,a0
	jsr	_LVOMakeLibrary(a6)
	tst.l	d0
	beq.s	exit
	move.l	d0,a2
	move.l	a6,gb_ExecBase(a2)
	move.l	a2,a6 				* stuff graphics base
	jsr	_cpwrup
	move.l	gb_ExecBase(a2),a6		* restore exec base
exit:	movem.l (sp)+,a2
	rts

	end
@


39.1
log
@ redefinition of includes for pragma calling.
@
text
@d3 1
a3 1
*	$Id: pwrup.asm,v 39.0 91/08/21 17:11:59 chrisg Exp Locker: chrisg $
a67 1
	move.l	a2,-(sp)			* and pass to C routine
a68 1
	addq.l	#4,sp				* fix stack and
@


39.0
log
@Bumped
@
text
@d3 1
a3 1
*	$Id: pwrup.asm,v 37.0 91/01/07 14:55:26 spence Exp Locker: chrisg $
d22 1
a22 1
_UtilityBaseOffset equ	gb_UtilityBase
@


33.23
log
@checkpoint - a2024 10hz and 15hz works from 32 bit id
@
text
@d3 1
a3 1
*	$Header: pwrup.asm,v 33.22 89/01/31 18:34:54 bart Exp $
d18 2
a19 2
    xdef    _DisplayBaseOffset
_DisplayBaseOffset  equ     gb_DisplayBase
d21 2
a22 2
    xref    _cpwrup
	xref	gfx_end
d24 2
d36 1
a36 1
    dc.l    _cpwrup
d51 23
@


33.22
log
@*** empty log message ***
@
text
@d3 1
a3 1
*	$Header: pwrup.asm,v 33.21 89/01/31 18:32:38 bart Exp $
@


33.21
log
@*** empty log message ***
@
text
@d3 1
a3 1
*	$Header: pwrup.asm,v 33.20 89/01/31 18:22:59 bart Exp $
d11 1
a11 1
    include 'gfxbase.i.i'
@


33.20
log
@DisplayBaseOffset changes to $196
@
text
@d3 1
a3 1
*	$Header: pwrup.asm,v 33.19 89/01/12 16:13:52 bart Exp $
d11 1
d19 1
a19 1
_DisplayBaseOffset  equ     $196
@


33.19
log
@*** empty log message ***
@
text
@d3 1
a3 1
*	$Header: pwrup.asm,v 33.18 88/03/10 20:52:02 dale Exp $
d18 1
a18 1
_DisplayBaseOffset  equ     $192
@


33.18
log
@V36 cleanup
@
text
@d3 1
a3 1
*	$Header: $
d15 4
a18 1
	section graphics
@


33.17
log
@graphics98.ld: 03.13.86 bart
@
text
@d3 1
a3 60
*	Source Control
*	--------------
*	$Header: pwrup.asm,v 33.16 86/07/31 16:35:19 bart Exp $
*
*	$Locker: dale $
*
*	$Log:	pwrup.asm,v $
*   Revision 33.16  86/07/31  16:35:19  bart
*   neil's mods from master source build
*   
*   
*   Revision 33.15  86/07/23  17:05:12  bart
*   *** empty log message ***
*   
*   Revision 33.14  86/07/23  17:00:49  bart
*   include graphics_rev.i
*   rev_name	VSTRING
*   
*   Revision 33.13  86/07/22  18:51:43  bart
*   graphics33.71 July 22 1986
*   
*   Revision 33.12  86/07/07  10:35:57  bart
*   graphics 33.70 July 7 1986
*   
*   Revision 33.11  86/07/01  11:27:43  bart
*   graphics 33.69 July 1 1986
*   
*   Revision 33.10  86/06/23  11:34:44  bart
*   graphics 33.68 June 23 1986
*   
*   Revision 33.9  86/06/19  14:29:25  bart
*   graphics 33.67 June 19 1986
*   
*   Revision 33.8  86/06/18  20:14:28  bart
*   graphics 33.66 June 18 1986
*   
*   Revision 33.7  86/06/17  10:23:38  bart
*   graphics33.65 June 17 1986
*   
*   Revision 33.6  86/06/11  11:29:53  bart
*   graphics 33.64 June 11 1986
*   
*   Revision 33.5  86/06/09  15:13:23  bart
*   graphics63.ld June 9 1986
*   
*   Revision 33.4  86/06/03  16:01:41  bart
*   graphics33.62 June 3 1986
*   
*   Revision 33.3  86/05/29  11:52:11  bart
*   graphics61.ld
*   
*   Revision 33.2  86/05/27  20:12:01  bart
*   graphics 33.60 May 27 1986
*   
*   Revision 33.1  86/05/22  12:58:22  bart
*   graphics59.ld May 22 1986
*   
*   Revision 33.0  86/05/17  14:57:14  bart
*   added to rcs for updating
*   
@


33.16
log
@neil's mods from master source build

@
text
@d5 1
a5 1
*	$Header: pwrup.asm,v 33.15 86/07/23 17:05:12 bart Exp $
d7 1
a7 1
*	$Locker:  $
d10 4
@


33.15
log
@*** empty log message ***
@
text
@d5 1
a5 1
*	$Header: pwrup.asm,v 33.14 86/07/23 17:00:49 bart Exp $
d7 1
a7 1
*	$Locker: bart $
d10 3
d80 1
a80 1
    dc.b    33  * version number
d83 2
a84 2
    dc.l    gfx_name    * node name
    dc.l    rev_name
d87 2
a88 1
gfx_name    dc.b    'graphics.library',0
d91 7
a97 1
rev_name	VSTRING
@


33.14
log
@include graphics_rev.i
rev_name	VSTRING
@
text
@d5 1
a5 1
*	$Header: pwrup.asm,v 33.13 86/07/22 18:51:43 bart Exp $
d10 4
d87 1
a87 1
	rev_name	VSTRING
@


33.13
log
@graphics33.71 July 22 1986
@
text
@d5 1
a5 1
*	$Header: pwrup.asm,v 33.12 86/07/07 10:35:57 bart Exp $
d10 3
d59 1
d81 4
a84 1
rev_name    dc.b    'graphics 33.71 July 22 1986',10,0
@


33.12
log
@graphics 33.70 July 7 1986
@
text
@d5 1
a5 1
*	$Header: pwrup.asm,v 33.11 86/07/01 11:27:43 bart Exp $
d10 3
d77 1
a77 1
rev_name    dc.b    'graphics 33.70 July 7 1986',10,0
@


33.11
log
@graphics 33.69 July 1 1986
@
text
@d5 1
a5 1
*	$Header: pwrup.asm,v 33.10 86/06/23 11:34:44 bart Exp $
d10 3
d74 1
a74 1
rev_name    dc.b    'graphics 33.69 July 1 1986',10,0
@


33.10
log
@graphics 33.68 June 23 1986
@
text
@d5 1
a5 1
*	$Header: pwrup.asm,v 33.9 86/06/19 14:29:25 bart Exp $
d10 3
d71 1
a71 1
rev_name    dc.b    'graphics 33.68 June 23 1986',10,0
@


33.9
log
@graphics 33.67 June 19 1986
@
text
@d5 1
a5 1
*	$Header: pwrup.asm,v 33.8 86/06/18 20:14:28 bart Exp $
d10 3
d68 1
a68 1
rev_name    dc.b    'graphics 33.67 June 19 1986',10,0
@


33.8
log
@graphics 33.66 June 18 1986
@
text
@d5 1
a5 1
*	$Header: pwrup.asm,v 33.7 86/06/17 10:23:38 bart Exp $
d10 3
d65 1
a65 1
rev_name    dc.b    'graphics 33.66 June 18 1986',10,0
@


33.7
log
@graphics33.65 June 17 1986
@
text
@d5 1
a5 1
*	$Header: pwrup.asm,v 33.6 86/06/11 11:29:53 bart Exp $
d10 3
d62 1
a62 1
rev_name    dc.b    'graphics 33.65 June 17 1986',10,0
@


33.6
log
@graphics 33.64 June 11 1986
@
text
@d5 1
a5 1
*	$Header: pwrup.asm,v 33.5 86/06/09 15:13:23 bart Exp $
d10 3
d59 1
a59 1
rev_name    dc.b    'graphics 33.64 June 11 1986',10,0
@


33.5
log
@graphics63.ld June 9 1986
@
text
@d5 1
a5 1
*	$Header: pwrup.asm,v 33.4 86/06/03 16:01:41 bart Exp $
d10 3
d56 1
a56 1
rev_name    dc.b    'graphics 33.63 June 9 1986',10,0
@


33.4
log
@graphics33.62 June 3 1986
@
text
@d5 1
a5 1
*	$Header: pwrup.asm,v 33.3 86/05/29 11:52:11 bart Exp $
d10 3
d53 1
a53 1
rev_name    dc.b    'graphics 33.62 June 3 1986',10,0
@


33.3
log
@graphics61.ld
@
text
@d5 1
a5 1
*	$Header: pwrup.asm,v 33.2 86/05/27 20:12:01 bart Exp $
d10 3
d50 1
a50 1
rev_name    dc.b    'graphics 33.61 May 29 1986',10,0
@


33.2
log
@graphics 33.60 May 27 1986
@
text
@d5 1
a5 1
*	$Header: pwrup.asm,v 33.1 86/05/22 12:58:22 bart Exp $
d10 3
d47 1
a47 1
rev_name    dc.b    'graphics 33.60 May 27 1986',10,0
@


33.1
log
@graphics59.ld May 22 1986
@
text
@d5 1
a5 1
*	$Header: pwrup.asm,v 33.0 86/05/17 14:57:14 bart Exp $
d10 3
d44 1
a44 1
rev_name    dc.b    'graphics 33.59 May 22 1986',10,0
@


33.0
log
@added to rcs for updating
@
text
@d5 1
a5 1
*	$Header: $
d7 1
a7 1
*	$Locker: $
d9 4
a12 1
*	$Log: $
d41 1
a41 1
rev_name    dc.b    'graphics 33.58 May 9 1986',10,0
@
