head     39.34;
branch   ;
access   ;
symbols  rel39_24:39.33 rel39_18:39.33 rel39_97:39.29 rel39_90:39.28 rel39_89:39.28 rel39_82:39.27 rel39_76:39.26 rel39_71:39.23 rel39_65:39.22 rel39_64:39.22 rel39_61:39.22 rel39_60:39.21 rel39_55:39.18 rel39_52:39.17 rel39_47:39.16 rel39_39:39.13 rel39_38:39.13 rel39_37:39.11 rel39_35:39.10 rel39_34:39.9 V37_30:37.0 V37_29:37.0 V37_28:37.0 V37_27:37.0 V37_25:37.0 V37_24:37.0 V37_23:37.0 V37_22:37.0 V37_21:37.0 V37_20:37.0 V37_19:37.0 V37_18:37.0 V37_15:37.0 V37_14:37.0 V37_13:37.0 V37_12:37.0 V37_11:37.0 V37_10:37.0 V37_9:37.0 V37_8:37.0 V37_7:37.0 V37_6:37.0 V37_5:37.0 V37_4:37.0 V37_3:37.0 V37_2:37.0 V37_1:37.0 V36_209:36.23 V36_208:36.23 V36_207:36.23 V36_205:36.23 V36_203:36.23 V36_202:36.23 V36_201:36.23 V36_200:36.23 V36_199:36.23 V36_198:36.22 V36_196:36.21 V36_195:36.21 V36_194:36.20 V36_193:36.20 V36_192:36.20 V36_191:36.20 V36_190:36.20 V36_189:36.20 V36_188:36.20 V36_187:36.20 V36_186:36.20 V36_185:36.20 V36_184:36.20 V36_183:36.20 V36_182:36.20 V36_181:36.19 V36_180:36.19 V36_179:36.19 V36_161:36.16 V36_160:36.16 V36_158:36.15 V36_157:36.15 V36_153:36.15 V36_151:36.15 V36_147:36.15 V36_146:36.15 V36_144:36.15 V36_143:36.14 V36_142:36.14 V36_141:36.14 V36_139:36.14 V36_137:36.14 V36_136:36.14 V36_135:36.14 V36_133:36.14 V36_131:36.13 V36_130:36.13 V36_129:36.13 V36_128:36.13 V36_127:36.13 V36_126:36.13 V36_125:36.13 V36_123:36.13 V36_122:36.13 V36_121:36.13 V36_0:36.13 V36_118:36.13 V36_116:36.13 V36_115:36.13 V36_114:36.13 V36_112:36.13 V36_107:36.13 V36_106:36.13 V36_104:36.13 V36_103:36.13 V36_101:36.13 V36_100:36.13 V36_99:36.13 V36_95:36.13 V36_94:36.13 V36_92:36.13 V36_90:36.13 V36_89:36.13 V36_88:36.13 V36_83:36.13 V36_82:36.13 V36_79:36.13 V36_78:36.13 V36_77:36.13 V36_75:36.13 V36_74:36.13 V36_73:36.13 V36_72:36.13 V36_70:36.13 V36_69:36.13 V36_61:36.13 V36_60:36.13 V36_59:36.13 V36_57:36.11 V36_56:36.10 V36_55:36.10 V36_54:36.10 V36_52:36.10 V36_51:36.10 V36_50:36.10 V36_48:36.10 V36_47:36.10 V36_46:36.10 V36_45:36.10 V36_44:36.10 V36_43:36.10 V36_42:36.10 V36_41:36.10 V36_40:36.10 V36_37:36.10 V36_36:36.10 V36_35:36.10 V36_34:36.10 V36_33:36.10 V36_30:36.9 V36_29:36.8 V36_27:36.8;
locks    ; strict;
comment  @*   @;


39.34
date     93.05.31.14.34.22;  author chrisg;  state Exp;
branches ;
next     39.33;

39.33
date     93.03.12.12.28.55;  author chrisg;  state Exp;
branches ;
next     39.32;

39.32
date     93.02.15.17.46.28;  author spence;  state Exp;
branches ;
next     39.31;

39.31
date     93.01.20.13.41.57;  author chrisg;  state Exp;
branches ;
next     39.30;

39.30
date     92.11.23.16.56.50;  author spence;  state Exp;
branches ;
next     39.29;

39.29
date     92.11.12.14.38.58;  author spence;  state Exp;
branches ;
next     39.28;

39.28
date     92.08.27.12.21.08;  author spence;  state Exp;
branches ;
next     39.27;

39.27
date     92.08.06.11.37.11;  author spence;  state Exp;
branches ;
next     39.26;

39.26
date     92.07.29.16.38.57;  author chrisg;  state Exp;
branches ;
next     39.25;

39.25
date     92.07.21.14.50.04;  author spence;  state Exp;
branches ;
next     39.24;

39.24
date     92.07.09.12.16.08;  author spence;  state Exp;
branches ;
next     39.23;

39.23
date     92.06.16.13.39.10;  author chrisg;  state Exp;
branches ;
next     39.22;

39.22
date     92.06.03.16.37.56;  author chrisg;  state Exp;
branches ;
next     39.21;

39.21
date     92.05.05.14.52.19;  author spence;  state Exp;
branches ;
next     39.20;

39.20
date     92.05.05.11.22.45;  author spence;  state Exp;
branches ;
next     39.19;

39.19
date     92.05.05.10.55.55;  author chrisg;  state Exp;
branches ;
next     39.18;

39.18
date     92.04.27.12.38.05;  author chrisg;  state Exp;
branches ;
next     39.17;

39.17
date     92.04.08.17.14.57;  author chrisg;  state Exp;
branches ;
next     39.16;

39.16
date     92.04.04.14.31.11;  author chrisg;  state Exp;
branches ;
next     39.15;

39.15
date     92.04.02.11.06.10;  author spence;  state Exp;
branches ;
next     39.14;

39.14
date     92.03.19.16.44.56;  author chrisg;  state Exp;
branches ;
next     39.13;

39.13
date     92.02.28.13.45.19;  author spence;  state Exp;
branches ;
next     39.12;

39.12
date     92.02.27.14.52.55;  author spence;  state Exp;
branches ;
next     39.11;

39.11
date     92.02.25.14.31.50;  author spence;  state Exp;
branches ;
next     39.10;

39.10
date     92.02.19.15.59.00;  author chrisg;  state Exp;
branches ;
next     39.9;

39.9
date     91.12.20.15.51.44;  author chrisg;  state Exp;
branches ;
next     39.8;

39.8
date     91.11.21.10.40.41;  author chrisg;  state Exp;
branches ;
next     39.7;

39.7
date     91.11.11.11.39.18;  author chrisg;  state Exp;
branches ;
next     39.6;

39.6
date     91.10.30.19.31.46;  author spence;  state Exp;
branches ;
next     39.5;

39.5
date     91.10.29.11.35.17;  author spence;  state Exp;
branches ;
next     39.4;

39.4
date     91.10.18.18.46.52;  author spence;  state Exp;
branches ;
next     39.3;

39.3
date     91.10.17.13.56.20;  author chrisg;  state Exp;
branches ;
next     39.2;

39.2
date     91.10.15.16.02.49;  author chrisg;  state Exp;
branches ;
next     39.1;

39.1
date     91.09.25.11.48.01;  author chrisg;  state Exp;
branches ;
next     39.0;

39.0
date     91.08.21.17.13.19;  author chrisg;  state Exp;
branches ;
next     38.11;

38.11
date     91.07.22.15.07.02;  author spence;  state Exp;
branches ;
next     38.10;

38.10
date     91.07.12.16.27.36;  author chrisg;  state Exp;
branches ;
next     38.9;

38.9
date     91.07.03.11.03.00;  author spence;  state Exp;
branches ;
next     38.8;

38.8
date     91.06.21.17.01.44;  author chrisg;  state Exp;
branches ;
next     38.7;

38.7
date     91.06.14.11.13.09;  author chrisg;  state Exp;
branches ;
next     38.6;

38.6
date     91.06.12.16.53.36;  author spence;  state Exp;
branches ;
next     38.5;

38.5
date     91.06.11.15.18.57;  author chrisg;  state Exp;
branches ;
next     38.4;

38.4
date     91.06.06.14.10.43;  author chrisg;  state Exp;
branches ;
next     38.3;

38.3
date     91.05.31.16.13.53;  author chrisg;  state Exp;
branches ;
next     38.2;

38.2
date     91.05.31.13.43.26;  author spence;  state Exp;
branches ;
next     38.1;

38.1
date     91.05.29.16.48.05;  author chrisg;  state Exp;
branches ;
next     38.0;

38.0
date     91.05.29.11.01.30;  author spence;  state Exp;
branches ;
next     37.2;

37.2
date     91.05.28.14.23.41;  author chrisg;  state Exp;
branches ;
next     37.1;

37.1
date     91.05.21.15.21.48;  author chrisg;  state Exp;
branches ;
next     37.0;

37.0
date     91.01.07.15.15.26;  author spence;  state Exp;
branches ;
next     36.23;

36.23
date     90.11.16.14.17.17;  author spence;  state Exp;
branches ;
next     36.22;

36.22
date     90.11.06.13.10.44;  author spence;  state Exp;
branches ;
next     36.21;

36.21
date     90.11.02.10.23.32;  author spence;  state Exp;
branches ;
next     36.20;

36.20
date     90.09.12.14.46.40;  author bart;  state Exp;
branches ;
next     36.19;

36.19
date     90.07.31.14.58.59;  author bart;  state Exp;
branches ;
next     36.18;

36.18
date     90.07.27.16.32.50;  author bart;  state Exp;
branches ;
next     36.17;

36.17
date     90.07.26.10.28.11;  author bart;  state Exp;
branches ;
next     36.16;

36.16
date     90.05.27.12.06.30;  author bart;  state Exp;
branches ;
next     36.15;

36.15
date     90.05.02.10.34.23;  author kodiak;  state Exp;
branches ;
next     36.14;

36.14
date     90.03.28.09.39.41;  author bart;  state Exp;
branches ;
next     36.13;

36.13
date     89.05.02.09.30.55;  author bart;  state Exp;
branches ;
next     36.12;

36.12
date     89.05.02.09.03.01;  author bart;  state Exp;
branches ;
next     36.11;

36.11
date     89.04.29.11.28.33;  author bart;  state Exp;
branches ;
next     36.10;

36.10
date     89.03.02.09.37.26;  author bart;  state Exp;
branches ;
next     36.9;

36.9
date     89.03.01.12.52.27;  author bart;  state Exp;
branches ;
next     36.8;

36.8
date     89.02.17.21.56.05;  author bart;  state Exp;
branches ;
next     36.7;

36.7
date     89.02.17.10.11.30;  author bart;  state Exp;
branches ;
next     36.6;

36.6
date     89.02.14.18.23.17;  author bart;  state Exp;
branches ;
next     36.5;

36.5
date     89.02.14.10.17.41;  author bart;  state Exp;
branches ;
next     36.4;

36.4
date     89.02.01.17.54.52;  author bart;  state Exp;
branches ;
next     36.3;

36.3
date     89.01.26.10.20.26;  author bart;  state Exp;
branches ;
next     36.2;

36.2
date     89.01.26.10.15.07;  author bart;  state Exp;
branches ;
next     36.1;

36.1
date     89.01.23.16.30.07;  author bart;  state Exp;
branches ;
next     36.0;

36.0
date     88.12.13.11.56.48;  author bart;  state Exp;
branches ;
next     ;


desc
@@


39.34
log
@massive fixes to includes & autodocs.
@
text
@#ifndef GRAPHICS_VIEW_H
#define GRAPHICS_VIEW_H
/*
**	$Id: view.h,v 39.33 93/03/12 12:28:55 chrisg Exp Locker: chrisg $
**
**	graphics view/viewport definintions
**
**	(C) Copyright 1985,1986,1987,1988,1989 Commodore-Amiga, Inc.
**	    All Rights Reserved
*/

#define ECS_SPECIFIC

#ifndef EXEC_TYPES_H
#include <exec/types.h>
#endif

#ifndef EXEC_SEMAPHORES_H
#include <exec/semaphores.h>
#endif

#ifndef GRAPHICS_GFX_H
#include <graphics/gfx.h>
#endif

#ifndef GRAPHICS_COPPER_H
#include <graphics/copper.h>
#endif

#ifndef GRAPHICS_GFXNODES_H
#include <graphics/gfxnodes.h>
#endif

#ifndef GRAPHICS_MONITOR_H
#include <graphics/monitor.h>
#endif

#ifndef GRAPHICS_DISPLAYINFO_H
#include <graphics/displayinfo.h>
#endif

#ifndef HARDWARE_CUSTOM_H
#include <hardware/custom.h>
#endif

struct ViewPort
{
	struct	ViewPort *Next;
	struct	ColorMap *ColorMap;	/* table of colors for this viewport */
					/* if this is nil, MakeVPort assumes default values */
	struct	CopList  *DspIns;	/* used by MakeVPort() */
	struct	CopList  *SprIns;	/* used by sprite stuff */
	struct	CopList  *ClrIns;	/* used by sprite stuff */
	struct	UCopList *UCopIns;	/* User copper list */
	WORD	DWidth,DHeight;
	WORD	DxOffset,DyOffset;
	UWORD	Modes;
	UBYTE	SpritePriorities;
	UBYTE	ExtendedModes;
	struct	RasInfo *RasInfo;
};

struct View
{
	struct	ViewPort *ViewPort;
	struct	cprlist *LOFCprList;   /* used for interlaced and noninterlaced */
	struct	cprlist *SHFCprList;   /* only used during interlace */
	WORD	DyOffset,DxOffset;   /* for complete View positioning */
		                   /* offsets are +- adjustments to standard #s */
	UWORD   Modes;             /* such as INTERLACE, GENLOC */
};

/* these structures are obtained via GfxNew */
/* and disposed by GfxFree */
struct ViewExtra
{
	struct ExtendedNode n;
	struct View *View;		/* backwards link */
	struct MonitorSpec *Monitor;	/* monitors for this view */ 
	UWORD TopLine;
};

/* this structure is obtained via GfxNew */
/* and disposed by GfxFree */
struct ViewPortExtra
{
	struct ExtendedNode n;
	struct ViewPort *ViewPort;	/* backwards link */
	struct Rectangle DisplayClip;	/* MakeVPort display clipping information */
	/* These are added for V39 */
	APTR   VecTable;		/* Private */
	APTR   DriverData[2];
	UWORD  Flags;
	Point  Origin[2];		/* First visible point relative to the DClip.
					 * One for each possible playfield.
					 */
	ULONG cop1ptr;			/* private */
	ULONG cop2ptr;			/* private */
};

/* All these VPXF_ flags are private */
#define VPXB_FREE_ME		0
#define VPXF_FREE_ME		(1 << VPXB_FREE_ME)
#define VPXB_LAST		1
#define VPXF_LAST		(1 << VPXB_LAST)
#define VPXB_STRADDLES_256 	4
#define VPXF_STRADDLES_256 	(1 << VPXB_STRADDLES_256)
#define VPXB_STRADDLES_512 	5
#define VPXF_STRADDLES_512 	(1 << VPXB_STRADDLES_512)


#define EXTEND_VSTRUCT	0x1000	/* unused bit in Modes field of View */

#define VPF_A2024             0x40	/* VP?_ fields internal only */
#define VPF_TENHZ             0x20
#define VPB_A2024             6
#define VPB_TENHZ             4

/* defines used for Modes in IVPargs */

#define GENLOCK_VIDEO   0x0002
#define LACE            0x0004
#define DOUBLESCAN	0x0008
#define SUPERHIRES      0x0020
#define PFBA            0x0040
#define EXTRA_HALFBRITE 0x0080
#define GENLOCK_AUDIO   0x0100
#define DUALPF          0x0400
#define HAM             0x0800
#define EXTENDED_MODE   0x1000
#define VP_HIDE         0x2000
#define SPRITES         0x4000
#define HIRES           0x8000

struct RasInfo  /* used by callers to and InitDspC() */
{
   struct   RasInfo *Next;          /* used for dualpf */
   struct   BitMap *BitMap;
   WORD    RxOffset,RyOffset;      /* scroll offsets in this BitMap */
};

struct ColorMap
{
	UBYTE	Flags;
	UBYTE	Type;
	UWORD	Count;
	APTR	ColorTable;
	struct  ViewPortExtra *cm_vpe;
	APTR	LowColorBits;
	UBYTE	TransparencyPlane;
	UBYTE	SpriteResolution;
	UBYTE	SpriteResDefault;	/* what resolution you get when you have set SPRITERESN_DEFAULT */
	UBYTE	AuxFlags;
	struct	ViewPort *cm_vp;
	APTR	NormalDisplayInfo;
	APTR	CoerceDisplayInfo;
	struct  TagItem *cm_batch_items;
	ULONG	VPModeID;
	struct	PaletteExtra *PalExtra;
	UWORD	SpriteBase_Even;
	UWORD	SpriteBase_Odd;
	UWORD	Bp_0_base;
	UWORD	Bp_1_base;

};

/* if Type == 0 then ColorMap is V1.2/V1.3 compatible */
/* if Type != 0 then ColorMap is V38       compatible */
/* the system will never create other than V39 type colormaps when running V39 */

#define COLORMAP_TYPE_V1_2	0x00
#define COLORMAP_TYPE_V1_4	0x01
#define COLORMAP_TYPE_V36 COLORMAP_TYPE_V1_4	/* use this definition */
#define COLORMAP_TYPE_V39	0x02

/* Flags variable */
#define COLORMAP_TRANSPARENCY	0x01
#define COLORPLANE_TRANSPARENCY	0x02
#define BORDER_BLANKING		0x04
#define BORDER_NOTRANSPARENCY	0x08
#define VIDEOCONTROL_BATCH	0x10
#define USER_COPPER_CLIP	0x20
#define BORDERSPRITES	0x40

#define CMF_CMTRANS	0
#define CMF_CPTRANS	1
#define CMF_BRDRBLNK	2
#define CMF_BRDNTRAN	3
#define CMF_BRDRSPRT	6

#define SPRITERESN_ECS		0
/* ^140ns, except in 35ns viewport, where it is 70ns. */
#define SPRITERESN_140NS	1
#define SPRITERESN_70NS		2
#define SPRITERESN_35NS		3
#define SPRITERESN_DEFAULT	-1

/* AuxFlags : */
#define CMAB_FULLPALETTE 0
#define CMAF_FULLPALETTE (1<<CMAB_FULLPALETTE)
#define CMAB_NO_INTERMED_UPDATE 1
#define CMAF_NO_INTERMED_UPDATE (1<<CMAB_NO_INTERMED_UPDATE)
#define CMAB_NO_COLOR_LOAD 2
#define CMAF_NO_COLOR_LOAD (1 << CMAB_NO_COLOR_LOAD)
#define CMAB_DUALPF_DISABLE 3
#define CMAF_DUALPF_DISABLE (1 << CMAB_DUALPF_DISABLE)


struct PaletteExtra				/* structure may be extended so watch out! */
{
	struct SignalSemaphore pe_Semaphore;		/* shared semaphore for arbitration 	*/
	UWORD	pe_FirstFree;				/* *private*				*/
	UWORD	pe_NFree;				/* number of free colors 		*/
	UWORD	pe_FirstShared;				/* *private*				*/
	UWORD	pe_NShared;				/* *private*				*/
	UBYTE   *pe_RefCnt;				/* *private*				*/
	UBYTE   *pe_AllocList;				/* *private*				*/
	struct ViewPort *pe_ViewPort;			/* back pointer to viewport		*/
	UWORD	pe_SharableColors;			/* the number of sharable colors.	*/
};

/* flags values for ObtainPen */

#define PENB_EXCLUSIVE 0
#define PENB_NO_SETCOLOR 1

#define PENF_EXCLUSIVE (1l<<PENB_EXCLUSIVE)
#define PENF_NO_SETCOLOR (1l<<PENB_NO_SETCOLOR)

/* obsolete names for PENF_xxx flags: */

#define PEN_EXCLUSIVE PENF_EXCLUSIVE
#define PEN_NO_SETCOLOR PENF_NO_SETCOLOR

/* precision values for ObtainBestPen : */

#define PRECISION_EXACT	-1
#define PRECISION_IMAGE	0
#define PRECISION_ICON	16
#define PRECISION_GUI	32


/* tags for ObtainBestPen: */
#define OBP_Precision 0x84000000
#define OBP_FailIfBad 0x84000001

/* From V39, MakeVPort() will return an error if there is not enough memory,
 * or the requested mode cannot be opened with the requested depth with the
 * given bitmap (for higher bandwidth alignments).
 */

#define MVP_OK		0	/* you want to see this one */
#define MVP_NO_MEM	1	/* insufficient memory for intermediate workspace */
#define MVP_NO_VPE	2	/* ViewPort does not have a ViewPortExtra, and
				 * insufficient memory to allocate a temporary one.
				 */
#define MVP_NO_DSPINS	3	/* insufficient memory for intermidiate copper
				 * instructions.
				 */
#define MVP_NO_DISPLAY  4	/* BitMap data is misaligned for this viewport's
				 * mode and depth - see AllocBitMap().
				 */
#define MVP_OFF_BOTTOM	5	/* PRIVATE - you will never see this. */

/* From V39, MrgCop() will return an error if there is not enough memory,
 * or for some reason MrgCop() did not need to make any copper lists.
 */

#define MCOP_OK		0	/* you want to see this one */
#define MCOP_NO_MEM	1	/* insufficient memory to allocate the system
				 * copper lists.
				 */
#define MCOP_NOP	2	/* MrgCop() did not merge any copper lists
				 * (eg, no ViewPorts in the list, or all marked as
				 * hidden).
				 */

struct DBufInfo {
	APTR	dbi_Link1;
	ULONG	dbi_Count1;
	struct Message dbi_SafeMessage;		/* replied to when safe to write to old bitmap */
	APTR dbi_UserData1;			/* first user data */

	APTR	dbi_Link2;
	ULONG	dbi_Count2;
	struct Message dbi_DispMessage; 	/* replied to when new bitmap has been displayed at least
							once */
	APTR	dbi_UserData2;			/* second user data */
	ULONG	dbi_MatchLong;
	APTR	dbi_CopPtr1;
	APTR	dbi_CopPtr2;
	APTR	dbi_CopPtr3;
	UWORD	dbi_BeamPos1;
	UWORD	dbi_BeamPos2;
};

#endif	/* GRAPHICS_VIEW_H */
@


39.33
log
@added new cm->AuxFlags bits.
@
text
@d4 1
a4 1
**	$Id: view.h,v 39.32 93/02/15 17:46:28 spence Exp Locker: chrisg $
d51 1
a51 1
	struct	CopList  *DspIns;	/* user by MakeView() */
d58 1
a58 1
	UBYTE	SpritePriorities;	/* used by makevp */
d89 1
a89 1
	struct Rectangle DisplayClip;	/* makevp display clipping information */
d152 1
a152 1
	UBYTE	SpriteResDefault;	/* what resolutiion you get when you have set SPRITERESN_DEFAULT */
@


39.32
log
@CMAF_NO_COLOR_LOAD
@
text
@d4 1
a4 1
**	$Id: view.h,v 39.31 93/01/20 13:41:57 chrisg Exp Locker: spence $
d205 2
@


39.31
log
@change vpextra
@
text
@d4 1
a4 1
**	$Id: view.h,v 39.30 92/11/23 16:56:50 spence Exp Locker: chrisg $
d203 2
@


39.30
log
@MVP_OFF_BOTTOM
@
text
@d4 1
a4 1
**	$Id: view.h,v 39.29 92/11/12 14:38:58 spence Exp Locker: spence $
d97 2
d201 2
@


39.29
log
@changed reference of AllocBitMapData() to AllocBitMap()
@
text
@d4 1
a4 1
**	$Id: view.h,v 39.28 92/08/27 12:21:08 spence Exp Locker: spence $
d99 2
a100 1
#define VPXB_FREE_ME		0	/* private */
d109 1
d255 1
@


39.28
log
@define MrgCop() return codes.
@
text
@d4 1
a4 1
**	$Id: view.h,v 39.27 92/08/06 11:37:11 spence Exp Locker: spence $
d251 1
a251 1
				 * mode and depth - see AllocBitMapData().
@


39.27
log
@STRADDLES_512
@
text
@d4 1
a4 1
**	$Id: view.h,v 39.26 92/07/29 16:38:57 chrisg Exp Locker: spence $
d254 12
@


39.26
log
@comments.
@
text
@d4 1
a4 1
**	$Id: view.h,v 39.25 92/07/21 14:50:04 spence Exp Locker: chrisg $
d103 4
a106 2
#define VPXB_STRADDLES_255 	4
#define VPXF_STRADDLES_255 	(1 << VPXB_STRADDLES_255)
@


39.25
log
@reordered ColorMap. V37 elements are at same offsets, and used the
reserved fields
@
text
@d4 1
a4 1
**	$Id: view.h,v 39.24 92/07/09 12:16:08 spence Exp Locker: spence $
d197 1
a197 1
struct PaletteExtra
d200 6
a205 6
	UWORD	pe_FirstFree;				/* index of first available color	*/
	UWORD	pe_NFree;				/* number of colors available 		*/
	UWORD	pe_FirstShared;				/* index of first shared color		*/
	UWORD	pe_NShared;				/* number of shared colors		*/
	UBYTE   *pe_RefCnt;				/* one byte per pal entry		*/
	UBYTE   *pe_AllocList;				/* allocation information		*/
@


39.24
log
@Added ViewExtra->TopLine
added VPXF_STRADDLES_255 flag
@
text
@d4 1
a4 1
**	$Id: view.h,v 39.23 92/06/16 13:39:10 chrisg Exp Locker: spence $
d143 1
d146 2
a147 1
	UWORD	reserved1;
a153 1
	APTR	LowColorBits;
a157 2
	UBYTE	AuxFlags;
	UBYTE	SpriteResDefault;	/* what resolutiion you get when you have set SPRITERESN_DEFAULT */
@


39.23
log
@fixed obtainpen flag defs.
@
text
@d4 1
a4 1
**	$Id: view.h,v 39.22 92/06/03 16:37:56 chrisg Exp Locker: chrisg $
d80 1
d99 6
a104 4
#define VPXB_FREE_ME	0	/* private */
#define VPXF_FREE_ME	(1 << VPXB_FREE_ME)
#define VPXB_LAST	1
#define VPXF_LAST	(1 << VPXB_LAST)
d117 1
a117 1
#define DOUBLESCAN		0x0008
@


39.22
log
@changed to dbuf struct.
@
text
@d4 1
a4 1
**	$Id: view.h,v 39.21 92/05/05 14:52:19 spence Exp $
d208 12
a219 2
#define PEN_EXCLUSIVE 1
#define PEN_NO_SETCOLOR 2
@


39.21
log
@Replace vp->Modes VP_LAST with vpe->Flags VPXF_LAST
@
text
@d4 1
a4 1
**	$Id: view.h,v 39.20 92/05/05 11:22:45 spence Exp Locker: spence $
d221 1
d242 2
a243 1
	struct Node dbi_Node1;			/* internal */
a245 1
	struct BitMap *dbi_BitMap1;		/* the new bitmap */
d247 2
a248 1
	struct Node dbi_Node2;			/* internal */
a251 1
	struct BitMap *dbi_BitMap2;		/* the new bitmap */
d256 2
a257 1

@


39.20
log
@Added VP_LAST
@
text
@d4 1
a4 1
**	$Id: view.h,v 39.19 92/05/05 10:55:55 chrisg Exp Locker: spence $
d89 1
d98 4
a101 2
#define VPXB_FREE_ME     0	/* private */
#define VPXF_FREE_ME     (1 << VPXB_FREE_ME)
a118 1
#define VP_LAST		0x0200
@


39.19
log
@db structure changes.
@
text
@d4 1
a4 1
**	$Id: view.h,v 39.18 92/04/27 12:38:05 chrisg Exp Locker: chrisg $
d116 1
@


39.18
log
@ changed DbufInfo structure.
@
text
@d4 1
a4 1
**	$Id: view.h,v 39.17 92/04/08 17:14:57 chrisg Exp Locker: chrisg $
d248 4
@


39.17
log
@tag # changes.
@
text
@d4 1
a4 1
**	$Id: view.h,v 39.16 92/04/04 14:31:11 chrisg Exp Locker: chrisg $
d238 1
d243 1
@


39.16
log
@ added defsprite res field.
@
text
@d4 1
a4 1
**	$Id: view.h,v 39.15 92/04/02 11:06:10 spence Exp Locker: chrisg $
d208 3
d213 2
a214 2
#define PRECISION_MED	32
#define PRECISION_LOW	64
d216 2
@


39.15
log
@Added ViewPortExtra->Origin for VPOrigin()
@
text
@d4 1
a4 1
**	$Id: view.h,v 39.14 92/03/19 16:44:56 chrisg Exp Locker: spence $
d152 2
a153 1
	UBYTE	PadByte;
d181 1
d185 1
@


39.14
log
@changed.
@
text
@d4 1
a4 1
**	$Id: view.h,v 39.13 92/02/28 13:45:19 spence Exp Locker: chrisg $
d92 3
@


39.13
log
@Store playfield SpritePriorities in ViewPort instead of ColorMap.
@
text
@d4 1
a4 1
**	$Id: view.h,v 39.12 92/02/27 14:52:55 spence Exp Locker: spence $
d99 5
a119 8
#define VPF_A2024		0x40
#define VPF_AGNUS		0x20
#define VPF_TENHZ		0x20

#define VPB_A2024		6
#define VPB_AGNUS		5
#define VPB_TENHZ		4

d148 2
d154 1
a154 1
/* the system will never create other than V38 type colormaps */
a160 21
struct PaletteExtra
{
	struct SignalSemaphore Semaphore;		/* shared semaphore for arbitration */
	UWORD	FirstFree;						/* index of first available color	*/
	UWORD	NFree;							/* number of colors available 		*/
	UWORD	FirstShared;					/* index of first shared color		*/
	UWORD	NShared;						/* number of shared colors			*/
	UBYTE   *RefCnt;						/* one byte per pal entry			*/
	UBYTE   *AllocList;						/* allocation information			*/
	struct ViewPort *ViewPort;				/* back pointer to viewport			*/
	UWORD	SharableColors;					/* the number of sharable colors.	*/
};

#define PEN_EXCLUSIVE 1
#define PEN_NO_SETCOLOR 2

#define PRECISION_IMAGE	0
#define PRECISION_ICON	16
#define PRECISION_MED	32
#define PRECISION_LOW	64

d180 27
@


39.12
log
@cm_PfdSpritePri
@
text
@d4 1
a4 1
**	$Id: view.h,v 39.11 92/02/25 14:31:50 spence Exp Locker: spence $
d139 1
a139 2
	UBYTE	PfdSpritePri;
	UBYTE	reserved1;
@


39.11
log
@Cleaned up ViewPortExtra structure and flags
Added cm_SpriteResolution and constants
@
text
@d4 1
a4 1
**	$Id: view.h,v 39.10 92/02/19 15:59:00 chrisg Exp Locker: spence $
d139 2
a140 1
	UWORD	reserved2;
d193 2
@


39.10
log
@ updated dbufinfo structure.
@
text
@d4 1
a4 1
**	$Id: view.h,v 39.9 91/12/20 15:51:44 chrisg Exp Locker: chrisg $
d91 1
a91 2
	UWORD  FMode;			/* Private */
	UWORD  Flags;			/* Private */
d94 2
a95 4
#define VPXB_IN_DIWINDOW 0	/* calc lines needed for CopperList inside a
				 * display window */
#define VPXB_FREE_ME     1	/* private */
#define VPXB_HAVE_FMODE  2	/* set this flag if you have set the vpe->FMode */
a96 4
#define VPXF_IN_DIWINDOW (1 << VPXB_IN_DIWINDOW)
#define VPXF_FREE_ME     (1 << VPXB_FREE_ME)	/* private */
#define VPXF_HAVE_FMODE  (1 << VPXB_HAVE_FMODE)

d138 1
a138 1
	UBYTE	reserved1;
d195 5
@


39.9
log
@ added definition of DBufInfo structure.
@
text
@d4 1
a4 1
**	$Id: view.h,v 39.8 91/11/21 10:40:41 chrisg Exp Locker: chrisg $
d222 9
a230 4
	APTR dbi_dbprivate[2];		/* don't touch !! */
	UBYTE dbi_pad1;			/* don't touch !! */
	UBYTE dbi_SigBit;		/* signal to wait for when buffers have changed */
	struct Task *dbi_SigTask;	/* task which is signalled. don't touch !! */
@


39.8
log
@ added definitiions for PEN_ flags
@
text
@d4 1
a4 1
**	$Id: view.h,v 39.7 91/11/11 11:39:18 chrisg Exp Locker: chrisg $
d219 8
@


39.7
log
@  removed colormap transparencybits pointer. Now stored in
upper bit of colortable.
@
text
@d4 1
a4 1
**	$Id: view.h,v 39.6 91/10/30 19:31:46 spence Exp Locker: chrisg $
d182 3
a184 1
#define PALETTE_EXCLUSIVE 1
@


39.6
log
@COLORMAP_TYPE_V38 redefined to V39.
@
text
@d4 1
a4 1
**	$Id: view.h,v 39.5 91/10/29 11:35:17 spence Exp Locker: spence $
a143 1
	UWORD	*TransparencyBits;
@


39.5
log
@removed vpe->BuildData
@
text
@d4 1
a4 1
**	$Id: view.h,v 39.4 91/10/18 18:46:52 spence Exp Locker: spence $
d168 1
a168 1
#define COLORMAP_TYPE_V38	0x02
@


39.4
log
@Altered ViewPortExtra structure
@
text
@d4 1
a4 1
**	$Id: view.h,v 39.3 91/10/17 13:56:20 chrisg Exp Locker: spence $
a88 1
	struct BuildData *BuildData;	/* Private */
@


39.3
log
@ added struct BuildData *
@
text
@d4 1
a4 1
**	$Id: view.h,v 39.2 91/10/15 16:02:49 chrisg Exp Locker: chrisg $
d89 5
a93 6
	struct ProgInfo *pinfo;		/* from the database */
	struct BuildData *BuildData;		/* data needed to build this view */
	UWORD  bpu;			/* bitplanes turned on in Inter-VPort gap*/
	UWORD  FMode;			/* Bandwidth to be used for this VP */
	UWORD  Blank;			/* number of lines in IVG where Bitplanes are turned off */
	UWORD  Flags;			/* see below */
@


39.2
log
@ removed cm_spritewidth - in gfxbase now
ci -u view.i
@
text
@d4 1
a4 1
**	$Id: view.h,v 39.1 91/09/25 11:48:01 chrisg Exp Locker: chrisg $
d90 1
a90 1
	APTR   BuildData;		/* data needed to build this view */
@


39.1
log
@ added doublescan mode bit
@
text
@d4 1
a4 1
**	$Id: view.h,v 39.0 91/08/21 17:13:19 chrisg Exp Locker: chrisg $
a160 1
	UWORD	SpriteWidth;
@


39.0
log
@Bumped
@
text
@d4 1
a4 1
**	$Id: view.h,v 38.11 91/07/22 15:07:02 spence Exp Locker: chrisg $
d112 1
@


38.11
log
@MakeVPort() error codes.
@
text
@d4 1
a4 1
**	$Id: view.h,v 38.10 91/07/12 16:27:36 chrisg Exp Locker: spence $
@


38.10
log
@added sprite width field to colormap.
@
text
@d4 1
a4 1
**	$Id: view.h,v 38.9 91/07/03 11:03:00 spence Exp Locker: chrisg $
d203 17
@


38.9
log
@More ViewPortExtra flags
@
text
@d4 1
a4 1
**	$Id: view.h,v 38.8 91/06/21 17:01:44 chrisg Exp Locker: spence $
d160 1
@


38.8
log
@added new bit defs.
@
text
@d4 1
a4 1
**	$Id: view.h,v 38.7 91/06/14 11:13:09 chrisg Exp Locker: chrisg $
d94 1
a94 1
	UWORD  Flags;
d97 1
a97 2
#define VPXB_IN_DIWINDOW 0
#define VPXF_IN_DIWINDOW 1	/* calc lines needed for CopperList inside a
d99 6
a104 2
#define VPXB_FREE_ME     1
#define VPXF_FREE_ME     2	/* private */
@


38.7
log
@added bitdefs for new colormap flags
@
text
@d4 1
a4 1
**	$Id: view.h,v 38.6 91/06/12 16:53:36 spence Exp Locker: chrisg $
d123 4
@


38.6
log
@VPXF_FREE_ME
@
text
@d4 1
a4 1
**	$Id: view.h,v 38.5 91/06/11 15:18:57 chrisg Exp Locker: spence $
d190 5
@


38.5
log
@  Added color offset variables
@
text
@d4 1
a4 1
**	$Id: view.h,v 38.4 91/06/06 14:10:43 chrisg Exp Locker: chrisg $
d100 2
@


38.4
log
@ added V38 colormap type
@
text
@d4 1
a4 1
**	$Id: view.h,v 38.3 91/05/31 16:13:53 chrisg Exp Locker: chrisg $
d147 4
@


38.3
log
@  Added PALETTE_EXCLUSIVE flag.
@
text
@d4 1
a4 1
**	$Id: view.h,v 38.2 91/05/31 13:43:26 spence Exp Locker: chrisg $
d150 2
a151 1
/* if Type != 0 then ColorMap is V36       compatible */
d156 1
@


38.2
log
@more ViewPortExtra stuff
@
text
@d4 1
a4 1
**	$Id: view.h,v 38.1 91/05/29 16:48:05 chrisg Exp Locker: spence $
d169 1
@


38.1
log
@  Added SharableColors variable

@
text
@d4 1
a4 1
**	$Id: view.h,v 38.0 91/05/29 11:01:30 spence Exp Locker: chrisg $
d38 4
d48 13
a60 13
   struct   ViewPort *Next;
   struct   ColorMap  *ColorMap;    /* table of colors for this viewport */
                  /* if this is nil, MakeVPort assumes default values */
   struct   CopList  *DspIns;       /* user by MakeView() */
   struct   CopList  *SprIns;       /* used by sprite stuff */
   struct   CopList  *ClrIns;       /* used by sprite stuff */
   struct   UCopList *UCopIns;      /* User copper list */
   WORD    DWidth,DHeight;
   WORD    DxOffset,DyOffset;
   UWORD    Modes;
   UBYTE	SpritePriorities;		/* used by makevp */
   UBYTE	ExtendedModes;
   struct   RasInfo *RasInfo;
d65 6
a70 6
   struct ViewPort *ViewPort;
   struct cprlist *LOFCprList;   /* used for interlaced and noninterlaced */
   struct cprlist *SHFCprList;   /* only used during interlace */
   WORD DyOffset,DxOffset;   /* for complete View positioning */
                              /* offsets are +- adjustments to standard #s */
   UWORD   Modes;             /* such as INTERLACE, GENLOC */
d89 2
@


38.0
log
@extended the ViewPortExtra structure
@
text
@d4 1
a4 1
**	$Id: view.h,v 37.2 91/05/28 14:23:41 chrisg Exp Locker: spence $
d159 2
a160 1
	struct ViewPort *ViewPort;
d162 5
@


37.2
log
@  Added definition for extended palette features.
@
text
@d4 1
a4 1
**	$Id: view.h,v 37.1 91/05/21 15:21:48 chrisg Exp Locker: chrisg $
d74 2
a75 2
	struct View *View;	 /* backwards link */
	struct MonitorSpec *Monitor; /* monitors for this view */ 
d84 10
a93 2
	struct Rectangle DisplayClip;  /* makevp display clipping information */
};
d150 2
a151 1
struct PaletteExtra {
@


37.1
log
@ Added PalExtra structure declaration.
@
text
@d4 1
a4 1
**	$Id: view.h,v 37.0 91/01/07 15:15:26 spence Exp Locker: chrisg $
d18 4
d132 1
d150 1
@


37.0
log
@initial switchover from V36
@
text
@d4 1
a4 1
**	$Id: view.h,v 36.23 90/11/16 14:17:17 spence Exp Locker: spence $
d127 1
d136 10
@


36.23
log
@changed SHORT to WORD
@
text
@d4 1
a4 1
**	$Id: view.h,v 36.22 90/11/06 13:10:44 spence Exp Locker: spence $
@


36.22
log
@includes exec/types.h
@
text
@d4 1
a4 1
**	$Id: view.h,v 36.21 90/11/02 10:23:32 spence Exp Locker: spence $
d47 2
a48 2
   SHORT    DWidth,DHeight;
   SHORT    DxOffset,DyOffset;
d60 1
a60 1
   short DyOffset,DxOffset;   /* for complete View positioning */
d108 1
a108 1
   SHORT    RxOffset,RyOffset;      /* scroll offsets in this BitMap */
@


36.21
log
@changed reference to V1.4 to V36. Added COLORMAP_TYPE_V36 defn
@
text
@d4 1
a4 1
**	$Id: view.h,v 36.20 90/09/12 14:46:40 bart Exp Locker: spence $
d13 4
@


36.20
log
@user copper clipping
@
text
@d4 1
a4 1
**	$Id: view.h,v 36.19 90/07/31 14:58:59 bart Exp Locker: bart $
d126 1
a126 1
/* if Type != 0 then ColorMap is V1.4      compatible */
d130 1
@


36.19
log
@UWORD   *TransparencyBits;
@
text
@d4 1
a4 1
**	$Id: view.h,v 36.18 90/07/27 16:32:50 bart Exp Locker: bart $
d137 1
@


36.18
log
@*** empty log message ***
@
text
@d4 1
a4 1
**	$Id: view.h,v 36.17 90/07/26 10:28:11 bart Exp Locker: bart $
d114 1
a114 1
	unsigned short *TransparencyBits;
d121 1
a121 1
	struct TagItem *cm_batch_items;
@


36.17
log
@removed ecs bit definitions from view.h
include hardware/custom.h for ecs bit definitions
defined ecs specific
@
text
@d4 1
a4 1
**	$Id: view.h,v 36.16 90/05/27 12:06:30 bart Exp Locker: bart $
@


36.16
log
@vpmodeid
@
text
@d4 1
a4 1
**	$Id: view.h,v 36.15 90/05/02 10:34:23 kodiak Exp Locker: bart $
d12 1
a12 1
/* remoded unnecessary includes of nodes.h and lists.h */
d30 4
a105 32

/* defines for beamcon register */
#define VARVBLANK	0x1000	/* Variable vertical blank enable */
#define LOLDIS		0x0800	/* long line disable */
#define CSCBLANKEN	0x0400	/* redirect composite sync */
#define VARVSYNC	0x0200	/* Variable vertical sync enable */
#define VARHSYNC	0x0100	/* Variable horizontal sync enable */
#define VARBEAM		0x0080	/* variable beam counter enable */
#define DISPLAYDUAL	0x0040	/* use UHRES pointer and standard pointers */
#define DISPLAYPAL	0x0020	/* set decodes to generate PAL display */
#define VARCSYNC	0x0010	/* Variable composite sync enable */
#define CSBLANK		0x0008	/* Composite blank out to CSY* pin */
#define CSYNCTRUE	0x0004	/* composite sync true signal */
#define VSYNCTRUE	0x0002	/* vertical sync true */
#define HSYNCTRUE	0x0001	/* horizontal sync true */

/* new defines for bplcon0 */
#define	USE_BPLCON3	1

/* new defines for bplcon2 */
#define	BPLCON2_ZDCTEN		(1<<10)	/* colormapped genlock bit */
#define	BPLCON2_ZDBPEN		(1<<11)	/* use bitplane as genlock bits */
#define	BPLCON2_ZDBPSEL0	(1<<12)	/* three bits to select one */
#define	BPLCON2_ZDBPSEL1	(1<<13)	/* of 8 bitplanes in */
#define	BPLCON2_ZDBPSEL2	(1<<14)	/* ZDBPEN genlock mode */

/* defines for bplcon3 register */
#define	BPLCON3_EXTBLNKEN	(1<<0)	/* external blank enable */
#define BPLCON3_EXTBLKZD	(1<<1)	/* external blank ored into trnsprncy */
#define BPLCON3_ZDCLKEN		(1<<2)	/* zd pin outputs a 14mhz clock*/
#define BPLCON3_BRDNTRAN	(1<<4)	/* border is opaque */
#define BPLCON3_BRDNBLNK	(1<<5)	/* border is opaque */
@


36.15
log
@standardize include header
@
text
@d4 1
a4 1
**	$Id$
d150 1
@


36.14
log
@*** empty log message ***
@
text
@d4 6
a9 10
/*	$Header: /usr/commodore/amiga/V36/src/kickstart/graphics/RCS/view.h,v 36.13 89/05/02 09:30:55 bart Exp Locker: bart $   
/*	$Filename: graphics/view.h $
/*	$Release: 1.4 $
/*	$Revision: 36.13 $
/*	$Date: 89/05/02 09:30:55 $
/*
/*	graphics view/viewport definintions
/*
/*	(C) Copyright 1985,1986,1987,1988,1989 Commodore-Amiga, Inc.
/*	    All Rights Reserved
d165 1
a165 1
#endif
@


36.13
log
@copyright 1989
@
text
@d4 1
a4 1
/*	$Header: view.h,v 36.12 89/05/02 09:03:01 bart Exp $   
d7 2
a8 2
/*	$Revision: 36.12 $
/*	$Date: 89/05/02 09:03:01 $
@


36.12
log
@header
@
text
@d4 1
a4 1
/*	$Header: $   
d7 2
a8 2
/*	$Revision: $
/*	$Date: $
@


36.11
log
@COLORMAP_TYPE_V1_2, COLORMAP_TYPE_V1_4
@
text
@d3 12
a32 12

/********************************************************************/
/*               Commodore-Amiga, Inc.                              */
/*               view.h                                             */
/********************************************************************/
/*******************************************************************
*   Modification History
*   date    :   author :    Comments
*  -------      ------      -------------------------------------- 
*   2-4-85      Dale        created from graph.h
*   2-8-85      Dale        conversion to 24 View->ViewPort
********************************************************************/
@


36.10
log
@*** empty log message ***
@
text
@d156 6
a161 1
/* if Type == 0 then ColorTable is a table of UWORDS xRGB */
@


36.9
log
@videocontrol issues
@
text
@d161 1
a161 1
#define BORDER_TRANSPARENCY	0x08
@


36.8
log
@checkpoint
@
text
@a67 1
	UWORD ve_VideoFlags;
a69 3
#define ve_BRDRBLNK	1
#define ve_BRDRNTRN	2

a106 2
/* these will be moved to another hardware specific include file */
/* maybe denise.h or something, Dale */
d126 2
a127 2
#define	BPLCON2_ZDCTEN	(1<<10)	/* colormapped genlock bit */
#define	BPLCON2_ZDBPEN	(1<<11)	/* use bitplane as genlock bits */
d153 1
d158 5
a162 2
#define COLORMAP_TRANSPARENCY	1
#define COLORPLANE_TRANSPARENCY	2
@


36.7
log
@*** empty log message ***
@
text
@@


36.6
log
@checkpoint
@
text
@a82 1
#define EXTEND_VPSTRUCT	0x1000	/* unused bit in Modes field of ViewPort */
a85 2
#define PFBA            0x40
#define DUALPF          0x400
d87 11
a97 1
#define LORES           0x0000 	    /* for convenience */
a98 1
#define SUPERHIRES      0x20	    /* new for v1.4 */
a99 10
#define LACE            4
#define HAM             0x800
#define SPRITES         0x4000      /* reuse one of plane ctr bits */
#define VP_HIDE         0x2000      /* reuse another plane crt bit */
#define GENLOCK_AUDIO   0x100
#define GENLOCK_VIDEO   2
#define EXTRA_HALFBRITE 0x80

/* extended modes communicate via viewport.ExtendedModes with gfx 1.3 -- bart */
/* #define VPF_SUPER_HIRES	0x80 */ /* force migration to Modes 88.09.11 */
@


36.5
log
@checkpoint 02.14.89
@
text
@d92 1
a92 1
#define SUPERHIRES      0x40	    /* new for v1.4 */
@


36.4
log
@checkpoint - a2024 10hz and 15hz works from 32 bit id
@
text
@@


36.3
log
@*** empty log message ***
@
text
@@


36.2
log
@displayclip
@
text
@d155 1
a155 1
	APTR	reserved0;
a162 1
	struct	Rectangle DisplayClip;
@


36.1
log
@*** empty log message ***
@
text
@d151 5
a155 5
	UBYTE Flags;
	UBYTE Type;
	UWORD Count;
	APTR  ColorTable;
	struct ViewPortExtra *cm_vpe;
d163 1
@


36.0
log
@added to rcs for updating
@
text
@d156 1
a156 1
	unsigned	short *TransparencyBits;
d161 3
a164 1
};
@
