head     36.7;
branch   ;
access   ;
symbols  V40_1:36.7 V37_1:36.6 V36_12:36.6 V36_9:36.6 V36_8:36.3 V36_3:36.2;
locks    ; strict;
comment  @*   @;


36.7
date     92.04.20.13.36.48;  author mks;  state Exp;
branches ;
next     36.6;

36.6
date     90.04.02.19.38.18;  author rsbx;  state Exp;
branches ;
next     36.5;

36.5
date     90.04.02.19.24.08;  author rsbx;  state Exp;
branches ;
next     36.4;

36.4
date     90.04.02.19.19.42;  author rsbx;  state Exp;
branches ;
next     36.3;

36.3
date     89.08.31.18.00.45;  author kodiak;  state Exp;
branches ;
next     36.2;

36.2
date     89.04.14.14.56.07;  author kodiak;  state Exp;
branches ;
next     36.1;

36.1
date     89.01.27.15.54.58;  author kodiak;  state Exp;
branches ;
next     36.0;

36.0
date     89.01.27.15.46.59;  author kodiak;  state Exp;
branches ;
next     ;


desc
@@


36.7
log
@Now native built...
@
text
@######################################################################
Native build...
@


36.6
log
@Want ${SUBSYSNAME}.doc, not .ld!
@
text
@d2 1
a2 33
MAKEMETA=	/usr/commodore/amiga/V${VERSION}/tools/makemeta

MAKEFILE=	Makefile
SRCDIRPATH=	kickstart
SRCDIR=		mathffp
SUBSYSNAME=	mathffp
SUBSYSGROUP=	libraries

# answer the question : which multiply shall be used ?
# ffpMUL is 18% faster, loses one half digit after 500+ iterations.
# ffpMUL2 is slower, but more precise.
#UNCOMMENT ONLY ONE OF THE NEXT TWO STATEMENTS
#MULT=		ffpMUL
MULT=		ffpMUL2

AFILES=		residenttag.asm \
		library.asm vec_table.asm ffpfpi.asm ffpifp.asm \
		ffpcmp.asm ffpabs.asm ffpadd.asm $(MULT).asm \
		ffpdiv.asm ffpfloor.asm ffpcpyrta.asm \
		endmodule.asm

EXTERNHFILES=	mathffp.h
HFILES=		${EXTERNHFILES}

FIRSTO=		residenttag.obj
OFILES=		library.obj vec_table.obj ffpfpi.obj ffpifp.obj \
		ffpcmp.obj ffpabs.obj ffpadd.obj $(MULT).obj \
		ffpdiv.obj ffpfloor.obj ffpcpyrta.obj \
		endmodule.obj

all:		${SUBSYSNAME}.ld ${SUBSYSNAME}.doc

.INCLUDE=${MAKEMETA}
@


36.5
log
@RCS version change.
@
text
@d32 1
a32 1
all:		${SUBSYSNAME}.ld ${SUBSYSNAME}.ld
@


36.4
log
@Changed to always rebuild autodoc file.
@
text
@@


36.3
log
@remove references to unused IFILES
@
text
@d32 1
a32 1
all:		${SUBSYSNAME}.ld
@


36.2
log
@remove mathffp_lib.i from IFILES
@
text
@a22 3
EXTERNIFILES=	
IFILES=		library.i macros.i

@


36.1
log
@make V36-like
@
text
@d24 1
a24 1
IFILES=		library.i macros.i mathffp_lib.i
@


36.0
log
@*** empty log message ***
@
text
@d1 2
a2 9
##########################################################################
#
# $Header$
#
# $Locker$
#
# $Log$
#
##########################################################################
d4 5
a9 17
#
# Amiga Fast Floating Point Math Library
#

VERSION=	36

V=		V$(VERSION)
MAKEFILE=    Makefile
SRCDIR=	     mathffp
SUBSYSNAME=  mathffp
SUBSYSGROUP= libraries

#
# the following have defaults in the system makefile
# use these lines to add user options
#

d14 2
a15 2
#MULT	= ffpMUL
MULT	= ffpMUL2
d17 5
a21 1
FIRSTROM=	residenttag.obj
a22 21
ROMLIB=	library.obj	vec_table.obj	ffpfpi.obj	ffpifp.obj \
	ffpcmp.obj	ffpabs.obj	ffpadd.obj	$(MULT).obj \
	ffpdiv.obj	ffpfloor.obj	ffpcpyrta.obj	endmodule.obj

ALLFILES=	$(FIRSTROM) $(ROMLIB)

#
# make depend and make print uses the next lines.
# They are maintained by hand.
#
#   AFILES are all the assembler source files
#
AFILES=	residenttag.asm	library.asm	vec_table.asm	ffpfpi.asm \
	ffpifp.asm	ffpcmp.asm	ffpabs.asm	ffpadd.asm \
	$(MULT).asm	ffpdiv.asm	ffpfloor.asm	ffpcpyrta.asm \
	endmodule.asm

#
#   EXTERNIFILES are all the assembler include files released to others in
#   ${VERDIR}/include/${SUBSYSGROUP}/
#
d24 1
a24 5
#
#   IFILES are all the assembler include files used by this code, except
#   any _rev.i files
#
IFILES= library.i	macros.i	mathffp_lib.i
a25 4
#
#   EXTERNHFILES are all the C include files released to others in
#   ${VERDIR}/include/${SUBSYSGROUP}/
#
d27 1
a27 5
#
#   HFILES are all the C include files used by this code, except any
#   _rev.h files
#
HFILES=
d29 5
a33 7
#
# OFILES are all the object files that make either the library or the
# rom code generated by this makefile.  FIRSTO is the first to appear
# in the result, but the last dependency to be resolved
#
FIRSTO= $(FIRSTROM)
OFILES= $(ROMLIB)
d35 1
a35 4
#
# The main dependency line for a vanilla make
#
all:	${SUBSYSNAME}.ld ${SUBSYSNAME}.doc
d37 1
a37 4
#
# Include the system makefile 
#
.INCLUDE=/usr/commodore/amiga/$(V)/tools/makemeta
@
