head     39.3;
branch   ;
access   ;
symbols  ;
locks    davidj:39.3; strict;
comment  @* @;


39.3
date     93.05.04.16.35.22;  author davidj;  state Exp;
branches ;
next     39.2;

39.2
date     92.06.23.03.50.48;  author davidj;  state Exp;
branches ;
next     39.1;

39.1
date     92.06.19.04.07.25;  author davidj;  state Exp;
branches ;
next     39.0;

39.0
date     92.06.02.08.32.21;  author davidj;  state Exp;
branches ;
next     ;


desc
@initial RCS
@


39.3
log
@added version tag.
@
text
@; amigaguide_lib.asm
;
        OPTIMON

;---------------------------------------------------------------------------

        NOLIST

        INCLUDE "exec/types.i"
        INCLUDE "exec/libraries.i"
        INCLUDE "exec/lists.i"
        INCLUDE "exec/alerts.i"
        INCLUDE "exec/initializers.i"
        INCLUDE "exec/resident.i"
        INCLUDE "libraries/dos.i"

        INCLUDE "amigaguide_rev.i"
        INCLUDE "amigaguidebase.i"

        LIST

;---------------------------------------------------------------------------

	XREF	_LibInit
	XREF	_LibOpen
	XREF	_LibClose
	XREF	_LibExpunge

	XREF	_ObtainAGEngine

	XREF	_LVOLoadXRef
	XREF	_LVOExpungeXRef

	XREF	_LVOAddPathEntries
	XREF	_LVOCopyPathList
	XREF	_LVOFreePathList
	XREF	_LVOParsePathString

	XREF	_LVOLockE
	XREF	_LVOOpenE
	XREF	_LVOSetCurrentDirE

	XREF	_LVOGetAGString

	XREF	_LVOAddAGHostA
	XREF	_LVORemoveAGHostA

        XREF    ENDCODE

;---------------------------------------------------------------------------

        XDEF    LibReserved
;	XDEF	verstag

;---------------------------------------------------------------------------

; First executable location, must return an error to the caller
Start:
        moveq   #-1,d0
        rts

;-----------------------------------------------------------------------

ROMTAG:
        DC.W    RTC_MATCHWORD           ; UWORD RT_MATCHWORD
        DC.L    ROMTAG                  ; APTR  RT_MATCHTAG
        DC.L    ENDCODE                 ; APTR  RT_ENDSKIP
        DC.B    RTF_AUTOINIT            ; UBYTE RT_FLAGS
        DC.B    VERSION                 ; UBYTE RT_VERSION
        DC.B    NT_LIBRARY              ; UBYTE RT_TYPE
        DC.B    0                       ; BYTE  RT_PRI
        DC.L    LibName                 ; APTR  RT_NAME
        DC.L    LibId                   ; APTR  RT_IDSTRING
        DC.L    LibInitTable            ; APTR  RT_INIT
LibName DC.B	'amigaguide.datatype',0
LibId   VSTRING
verstag	VERSTAG
        CNOP    0,4

;-----------------------------------------------------------------------

LibInitTable:
        DC.L    AGLib_SIZEOF
        DC.L    LibFuncTable
        DC.L    LibDataTable
        DC.L    _LibInit

V_DEF	MACRO
	DC.W	\1+(*-LibFuncTable)
	ENDM

LibFuncTable:
	DC.W	-1
        V_DEF	_LibOpen
        V_DEF	_LibClose
        V_DEF	_LibExpunge
        V_DEF	LibReserved

	V_DEF	_ObtainAGEngine
	V_DEF	_LVOLoadXRef
	V_DEF	_LVOExpungeXRef
	V_DEF	_LVOAddPathEntries
	V_DEF	_LVOCopyPathList
	V_DEF	_LVOFreePathList
	V_DEF	_LVOParsePathString
	V_DEF	_LVOLockE
	V_DEF	_LVOOpenE
	V_DEF	_LVOSetCurrentDirE
	V_DEF	_LVOGetAGString
	V_DEF	_LVOAddAGHostA
	V_DEF	_LVORemoveAGHostA

        DC.W   -1

LibDataTable:
        INITBYTE   LN_TYPE,NT_LIBRARY
        INITLONG   LN_NAME,LibName
        INITBYTE   LIB_FLAGS,(LIBF_SUMUSED!LIBF_CHANGED)
        INITWORD   LIB_VERSION,VERSION
        INITWORD   LIB_REVISION,REVISION
        INITLONG   LIB_IDSTRING,LibId
        DC.W       0

        CNOP    0,4

;-----------------------------------------------------------------------

LibReserved:
        moveq   #0,d0
        rts

;-----------------------------------------------------------------------
        END
@


39.2
log
@changed the name
@
text
@a61 2
;verstag	DC.B	VERSTAG

d75 1
a75 2

LibName DC.B 'amigaguide.datatype',0
d77 2
d80 1
a80 1
        CNOP    0,4
@


39.1
log
@added nost host lvo's
@
text
@d78 1
a78 1
LibName DC.B 'amigaguide.class',0
@


39.0
log
@initial RCS
@
text
@d45 3
d111 2
@
