##########################################################################
#
# $Id: Makefile,v 37.1 91/01/21 09:45:21 mks Exp $
#
##########################################################################


#
# Amiga IEEE single trans
#

V=		V$(VERSION)

MAKEFILE=    Makefile
SRCDIR=		 mathieeesingtrans
SUBSYSNAME=  mathieeesingtrans
SUBSYSGROUP= libraries
SRCDIRPATH=	workbench/libs

LIBDIR=	/usr/commodore/amiga/$(V)/internal/lib

#
# the following have defaults in the system makefile
# use these lines to add user options
#
# -X167 means do not promote floats
# -X233 means flaot functions return floats

CFLAGS = -X22 -X167 -X233 -X107 -Dmc68000 -Dieee_float

LFLAGS=	map=$*.lmap xref=$*.xref ROM

# X107  is donot use a6

FIRSTRAM=	residenttag.obj

RAMLIB=	library.obj vec_table.obj softieee.obj midb.obj\
	spacos.obj spasin.obj spatan.obj cos.obj cosh.obj spexp.obj\
	log.obj spsin.obj sinh.obj spsqrt.obj sptan.obj \
	tanh.obj sincos.obj hardpow.obj\
	ieee68881.obj iovec_table.obj convert.obj endmodule.obj pow.obj\
	halve.obj ieeesingbasint.obj

ALLFILES=	$(FIRSTRAM) $(RAMLIB)

CFILES= cos.c cosh.c\
	log.c sinh.c\
	tanh.c sincos.c hardpow.c\
	pow.c halve.c

#
#RAMLIB=	softieee.obj
#acos.obj asin.obj cos.obj cosh.obj exp.obj\
#	log.obj sin.obj sinh.obj sqrt.obj tan.obj\
#tanh.obj dexp.obj sincos.obj hardpow.obj\
#pow.obj\
#halve.obj
# make depend and make print uses the next lines.
# They are maintained by hand.
#
#   AFILES are all the assembler source files
#
AFILES=	residenttag.asm	library.asm vec_table.asm midb.asm softieee.asm\
	convert.asm ieeesingbasint.asm spsqrt.asm sptan.asm\
	ieee68881.asm endmodule.asm iovec_table.asm ieeesingbasint.asm\
	spacos.asm spasin.asm spsin.asm spexp.asm spatan.asm

#
#   EXTERNIFILES are all the assembler include files released to others in
#   ${VERDIR}/include/${SUBSYSGROUP}/
#
EXTERNIFILES=
#
#   IFILES are all the assembler include files used by this code, except
#   any _rev.i files
#
IFILES= macros.i nulca.i privatemathlibrary.i

#
#   EXTERNHFILES are all the C include files released to others in
#   ${VERDIR}/include/${SUBSYSGROUP}/
#
EXTERNHFILES=
#
#   HFILES are all the C include files used by this code, except any
#   _rev.h files
#
HFILES= math.h

#
# OFILES are all the object files that make either the library or the
# rom code generated by this makefile.  FIRSTO is the first to appear
# in the result, but the last dependency to be resolved
#
FIRSTO= $(FIRSTRAM)
OFILES= $(RAMLIB)

#
# The main dependency line for a vanilla make
#
all:	${SUBSYSNAME}.ld ${SUBSYSNAME}.doc

install:
	stripf mathieeesingtrans.ld /usr2/a2001/libs/mathieeesingtrans.library

#
# Include the system makefile
#
.INCLUDE=/usr/commodore/amiga/$(V)/tools/makemeta
#.INCLUDE=makemeta
#MYLIBS= ${LIBDIR}/debug.lib

APP=spp
CAPP=./cppapp
#LINK=blink
