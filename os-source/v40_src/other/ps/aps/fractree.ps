%------------------------------------------------------------
%--------------- Fractal Tree ----------------
%------------------------------------------------------------

/tree { % TREE level size (procedure definition)

	3 dict
	begin

	/siz exch def		% TOS
	/lev exch def

	lev 1 ne 		% recursion level exhausted ?

		{   gsave

			10 lev sub 10 div setgray

			0 150 rlineto currentpoint stroke moveto
			currentpoint translate
			.6 .6 scale

			/rotang rotang rand 40 mod 17 sub add def
			rotang neg rotate
			lev 1 sub null tree

			/rotang rotang rand 40 mod 17 sub add def
			rotang rotate
			lev 1 sub null tree

			/rotang rotang rand 40 mod 17 sub add def
			rotang rotate
			lev 1 sub null tree

			grestore
		} if

	end			% pop local vars dict.

	} def			% End of proc definition

10 setlinewidth

0 10 moveto
630 10 lineto stroke

/rotang	50 def

921435 srand

320 10 moveto
8 120 tree stroke
320 10 moveto
7 120 tree stroke
320 10 moveto
6 120 tree stroke

2 setlinewidth
550 340 20 0 360 arc stroke

550 340 translate

0 setlinewidth
180 rotate
7 { 15 rotate
	30 0 moveto 80 0 lineto stroke
	} repeat
