##########################################################################
#
# $Id: Makefile,v 1.8 91/01/12 23:08:28 bryce Exp $
#
# $Locker:  $
#
# $Log:	Makefile,v $
# Revision 1.8  91/01/12  23:08:28  bryce
# Update Id, switch from V34 to V.  Swear at Tom P. for not reading
# the instructions TWO LINES ABOVE where he put the rev files into
# IFILES and HFILES.
# 
# Revision 1.7  89/04/21  15:55:37  bryce
# More make internal hand holding.
# 
# Revision 1.6  89/04/19  19:04:09  bryce
# Try to get make internal to work properly
# 
# Revision 1.5  89/03/08  22:06:37  bryce
# *** empty log message ***
# 
# Revision 1.4  89/02/07  21:27:40  bryce
# *** empty log message ***
# 
# Revision 1.3  89/02/07  16:08:23  bryce
# forgot " rcs -c"
# 
# Revision 1.2  89/02/07  16:01:58  bryce
# V1.3 maintainance release
#
# Revision 33.1  86/04/29  14:18:51  barry
# Initial version under RCS
# 
#
##########################################################################

MAKEMETA=       /usr/commodore/amiga/V/tools/makemeta

SUBSYSNAME=	serial
SUBSYSGROUP=    devices
SRCDIR=         serial
SRCDIRPATH=	workbench/devs
MAKEFILE=       Makefile
DISKPATH=       workbench/devs/serial.device


#
# the following have defaults in the system makefile
# use these lines to add user options
#
AINCL=
CINCL=
AFLAGS= -c S
#AFLAGS= -c S -l $*.lis -e $*.e
CFLAGS=
LFILES= map=${SUBSYSNAME}.lmap

#
# make depend and make print uses the next lines.
# They are maintained by hand.
#
#   AFILES are all the assembler source files
#
AFILES=	begin.asm write.asm functions.asm \
        setparams.asm init.asm abs.asm read.asm
#
#   CFILES are all the C source files
#
CFILES=
#
#   EXTERNIFILES are all the assembler include files released to others in
#   ${VERDIR}/include/${SUBSYSGROUP}/
#
EXTERNIFILES= serial.i
#
#   IFILES are all the assembler include files used by this code, except
#   any _rev.i files
#
IFILES= serialdev.i assembly.i serial.i
#
#   EXTERNHFILES are all the C include files released to others in
#   ${VERDIR}/include/${SUBSYSGROUP}/
#
EXTERNHFILES= serial.h
#
#   HFILES are all the C include files used by this code, except any
#   _rev.h files
#
HFILES= serial.h
#
# OFILES are all the object files that make either the library or the
# rom code generated by this makefile.  FIRSTO is the first to appear
# in the result, but the last dependency to be resolved
#
FIRSTO=	abs.obj
OFILES= begin.obj write.obj functions.obj \
        setparams.obj init.obj read.obj
#
# The main dependency line for a vanilla make
#
#all:	 ${SUBSYSNAME}.ld  ${SUBSYSNAME}.doc
all:	 ${SUBSYSNAME}.ld
	astrip ${SUBSYSNAME}.ld

#
# Include the system makefile 
#
.INCLUDE=${MAKEMETA}
